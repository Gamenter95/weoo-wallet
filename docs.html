<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - WeooWallet</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .endpoint {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }

        .endpoint-header {
            background: #343a40;
            color: white;
            padding: 15px;
            font-weight: bold;
        }

        .endpoint-body {
            padding: 20px;
        }

        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .method.get { background: #28a745; color: white; }
        .method.post { background: #007bff; color: white; }

        .code {
            background: #f1f3f4;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 10px 0;
        }

        .response {
            background: #e7f5e7;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 10px 0;
        }

        .error-response {
            background: #ffe7e7;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 10px 0;
        }

        .param {
            background: #fff3cd;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìö WeooWallet API Documentation</h1>
        <p>Complete guide for payment gateway integration</p>
    </div>

    <h2>üöÄ Getting Started</h2>
    <p>The WeooWallet Payment Gateway API allows you to process payments through user-specific endpoints. Each user gets a unique endpoint for receiving payments.</p>

    <div class="code">
        Base URL: https://gamenter95.github.io/weoo-wallet/api/{endpoint}
    </div>

    <h2>üîó Endpoints</h2>

    <div class="endpoint">
        <div class="endpoint-header">
            <span class="method get">GET</span> Process Payment
        </div>
        <div class="endpoint-body">
            <strong>URL:</strong> <code>/api/{endpoint}</code><br>
            <strong>Description:</strong> Process a payment for a specific user endpoint

            <h4>Parameters:</h4>
            <div class="param">
                <strong>AMOUNT</strong> (required) - Payment amount in rupees<br>
                <em>Example: 100, 250.50</em>
            </div>
            <div class="param">
                <strong>COMMENT</strong> (optional) - Payment description<br>
                <em>Example: "Test Payment", "Purchase Order #123"</em>
            </div>

            <h4>Example Request:</h4>
            <div class="code">
GET /api/abc123def456?AMOUNT=100&COMMENT=Test%20Payment
            </div>

            <h4>Success Response:</h4>
            <div class="response">
                <strong>Status:</strong> 200 OK<br>
                <strong>Content-Type:</strong> application/json
                <pre>{
  "status": "success",
  "message": "Payment processed successfully",
  "data": {
    "transaction_id": "gw_abc123def456",
    "amount": 100,
    "user_id": 123456789,
    "username": "john_doe",
    "comment": "Test Payment",
    "new_balance": 350.00,
    "timestamp": "2025-01-10T12:30:45.123Z"
  }
}</pre>
            </div>

            <h4>Error Response:</h4>
            <div class="error-response">
                <strong>Status:</strong> 400 Bad Request / 404 Not Found
                <pre>{
  "status": "error",
  "message": "Invalid endpoint",
  "endpoint": "invalid123"
}</pre>
            </div>
        </div>
    </div>

    <div class="endpoint">
        <div class="endpoint-header">
            <span class="method get">GET</span> Validate Endpoint
        </div>
        <div class="endpoint-body">
            <strong>URL:</strong> <code>/api/validate/{endpoint}</code><br>
            <strong>Description:</strong> Validate if an endpoint exists and get user information

            <h4>Example Request:</h4>
            <div class="code">
GET /api/validate/abc123def456
            </div>

            <h4>Success Response:</h4>
            <div class="response">
                <pre>{
  "status": "success",
  "message": "Valid endpoint",
  "data": {
    "user_id": 123456789,
    "username": "john_doe",
    "endpoint": "abc123def456",
    "balance": 250.00,
    "active": true
  }
}</pre>
            </div>
        </div>
    </div>

    <div class="endpoint">
        <div class="endpoint-header">
            <span class="method get">GET</span> API Status
        </div>
        <div class="endpoint-body">
            <strong>URL:</strong> <code>/api/status</code><br>
            <strong>Description:</strong> Get API status and statistics

            <h4>Example Request:</h4>
            <div class="code">
GET /api/status?format=json
            </div>

            <h4>Response:</h4>
            <div class="response">
                <pre>{
  "status": "online",
  "service": "WeooWallet Payment Gateway",
  "version": "1.0.0",
  "uptime": "99.9%",
  "response_time": "< 100ms",
  "endpoints": {
    "/api/{endpoint}": "Process payment",
    "/api/validate/{endpoint}": "Validate endpoint",
    "/api/status": "API status"
  }
}</pre>
            </div>
        </div>
    </div>

    <h2>üîí Security</h2>
    <ul>
        <li>Each user has a unique endpoint generated by the bot</li>
        <li>Endpoints are validated against the user database</li>
        <li>All transactions are logged with timestamps</li>
        <li>Duplicate transaction prevention</li>
    </ul>

    <h2>üìä Integration with Telegram Bot</h2>
    <p>The API automatically integrates with your Telegram bot:</p>
    <ul>
        <li>Bot generates unique endpoints for each user with /gateway command</li>
        <li>Bot monitors for payments every 30 seconds</li>
        <li>Automatic balance updates when payments are received</li>
        <li>Transaction logging and notification system</li>
    </ul>

    <h2>‚ö†Ô∏è Error Codes</h2>
    <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <tr style="background: #f8f9fa;">
            <th style="border: 1px solid #dee2e6; padding: 10px;">Code</th>
            <th style="border: 1px solid #dee2e6; padding: 10px;">Message</th>
            <th style="border: 1px solid #dee2e6; padding: 10px;">Description</th>
        </tr>
        <tr>
            <td style="border: 1px solid #dee2e6; padding: 10px;">400</td>
            <td style="border: 1px solid #dee2e6; padding: 10px;">AMOUNT parameter is required</td>
            <td style="border: 1px solid #dee2e6; padding: 10px;">Missing payment amount</td>
        </tr>
        <tr>
            <td style="border: 1px solid #dee2e6; padding: 10px;">400</td>
            <td style="border: 1px solid #dee2e6; padding: 10px;">Invalid amount</td>
            <td style="border: 1px solid #dee2e6; padding: 10px;">Amount is not a valid number or too small</td>
        </tr>
        <tr>
            <td style="border: 1px solid #dee2e6; padding: 10px;">404</td>
            <td style="border: 1px solid #dee2e6; padding: 10px;">Invalid endpoint</td>
            <td style="border: 1px solid #dee2e6; padding: 10px;">Endpoint does not exist</td>
        </tr>
        <tr>
            <td style="border: 1px solid #dee2e6; padding: 10px;">500</td>
            <td style="border: 1px solid #dee2e6; padding: 10px;">Payment processing failed</td>
            <td style="border: 1px solid #dee2e6; padding: 10px;">Internal server error</td>
        </tr>
    </table>

    <p style="text-align: center; margin-top: 40px;">
        <a href="../" style="color: #667eea; text-decoration: none;">‚Üê Back to Home</a>
    </p>
</body>
</html>